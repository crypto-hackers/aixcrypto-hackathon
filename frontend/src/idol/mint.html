<!DOCTYPE html><!--  This site was created in Webflow. https://www.webflow.com  -->
<!--  Last Published: Thu Jun 15 2023 03:57:02 GMT+0000 (Coordinated Universal Time)  -->
<html data-wf-page="648a862dad56f52b35cdaebf" data-wf-site="648a7b305726afd6e4730e60">
<head>
  <meta charset="utf-8">
  <title>mint</title>
  <meta content="Voici mon site de prÃ©sentation ! Mes expÃ©riences &amp; compÃ©tences, les formations que j&#x27;ai suivies ğŸ’ª Aujourd&#x27;hui je dirige une agence digitale et travaille dans le secteur du branding et du growth marketing ğŸ’¥" name="description">
  <meta content="mint" property="og:title">
  <meta content="Voici mon site de prÃ©sentation ! Mes expÃ©riences &amp; compÃ©tences, les formations que j&#x27;ai suivies ğŸ’ª Aujourd&#x27;hui je dirige une agence digitale et travaille dans le secteur du branding et du growth marketing ğŸ’¥" property="og:description">
  <meta content="https://uploads-ssl.webflow.com/6016bdbeeaca0af7a6620d05/6019095731a6845cb5207e62_Capture%20d%E2%80%99e%CC%81cran%202021-02-02%20a%CC%80%2009.09.24.png" property="og:image">
  <meta content="mint" property="twitter:title">
  <meta content="Voici mon site de prÃ©sentation ! Mes expÃ©riences &amp; compÃ©tences, les formations que j&#x27;ai suivies ğŸ’ª Aujourd&#x27;hui je dirige une agence digitale et travaille dans le secteur du branding et du growth marketing ğŸ’¥" property="twitter:description">
  <meta content="https://uploads-ssl.webflow.com/6016bdbeeaca0af7a6620d05/6019095731a6845cb5207e62_Capture%20d%E2%80%99e%CC%81cran%202021-02-02%20a%CC%80%2009.09.24.png" property="twitter:image">
  <meta property="og:type" content="website">
  <meta content="summary_large_image" name="twitter:card">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta content="Webflow" name="generator">
  <link href="css/normalize.css" rel="stylesheet" type="text/css">
  <link href="css/webflow.css" rel="stylesheet" type="text/css">
  <link href="css/nakamuras-beautiful-site-c1c7ea.webflow.css" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
  <script type="text/javascript">WebFont.load({  google: {    families: ["Inconsolata:400,700"]  }});</script>
  <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
  <link href="images/favicon.png" rel="shortcut icon" type="image/x-icon">
  <link href="images/webclip.png" rel="apple-touch-icon">

  <!--ABIèª­ã¿è¾¼ã¿-->
  <script src="./abi/nft48.abi"></script>
  <script src="./abi/akushuNft.abi"></script>
  <script src="./abi/erc6551Account.abi"></script>
  <script src="./abi/erc6551Registry.abi"></script>
  <script>
    console.log(erc6551RegistryAbi)
  </script>
  <!--ABIèª­ã¿è¾¼ã¿-->
  
  <!--web3jsèª­ã¿è¾¼ã¿-->
  <script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
  <!--web3jsèª­ã¿è¾¼ã¿-->

  <script>
    //Chainå‘¨ã‚Šã®è¨­å®š
    const nft48AddressMumbai = '0x6CE76566a96a122D702E1f9D306B48FaA832Df89';
    const nft48AddressShibuya = '0x2B6e9230C79cB8d10E78c10C49278Bf7C8d9919b';
    const erc6551RegistryAddressMumbai = '0x42657c3b3da506185db0ee5c0217fb05d4435b2b';
    const erc6551RegistryAddressShibuya = '0x2fF679470B8209f900a135B4b3f2C09112f70b45';
    const erc6551ImplementationAddressMumbai = '0x40630A557f1C0B5CecDDc9F223a1dF54d0Cf2666';
    const erc6551ImplementationAddressShibuya = '0x2FAaF4136C3A1De2ed95cEff1B20D2BA57F1ae16';
    const akushuNftAddressMumbai = '0x7FBA3DBDd16Bb83130168c47c3190f568a21df5a';
    const akushuNftAddressShibuya = '0x6CE76566a96a122D702E1f9D306B48FaA832Df89';
    const chainIdMumbai = 80001;
    const chainIdShibuya = 81;

    let nft48Address = nft48AddressShibuya;
    let erc6551RegistryAddress = erc6551RegistryAddressShibuya;
    let erc6551ImplementationAddress = erc6551ImplementationAddressShibuya;
    let akushuNftAddress = akushuNftAddressShibuya;
    let chainId = chainIdShibuya;

    let mintedTokenId = 1;

    //ether.js å‘¨ã‚Šã®å…±é€šå‡¦ç†
    window.onload = function() {
      if (window.ethereum) {
        try {
          getAccount().then((account) => {
            console.log(account);
          });

          getBlockNumber().then((blockNumber) => {
            console.log(blockNumber);
          });
        } catch (error) {
          console.error("User denied account access");
        }
      }
      else {
        console.log('Non-Ethereum browser detected. You should consider trying MetaMask!');
      }
    }

    async function getAccount() {
      if (!window.ethereum) throw new Error('No Ethereum browser detected.');
      const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });
      return accounts[0];
    }

    async function getBlockNumber() {
      if (!window.ethereum) throw new Error('No Ethereum browser detected.');
      const web3 = new Web3(window.ethereum);
      return await web3.eth.getBlockNumber();
    }

    //å€‹åˆ¥TX NFT48ã®Mint
    async function mint() {
      if (!window.ethereum) throw new Error('No Ethereum browser detected.');
      const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });
      const account = accounts[0];
      const web3 = new Web3(window.ethereum);

      const contract = new web3.eth.Contract(
              nft48Abi,
              nft48Address
      );

      // const gasEstimate = await contract
      //         .methods
      //         .mintNFT(account, "http://test.com")
      //         .estimateGas({ from: account });

      const result = await contract
              .methods
              .mintNFT(account, "http://test.com")
              .send({ from: account /*, gas: gasEstimate*/ });

      console.log(result);
      mintedTokenIdInHex = result.logs[0].topics[3];
      console.log (mintedTokenIdInHex)
      mintedTokenId = parseInt(mintedTokenIdInHex, 16)
      console.log (mintedTokenId)
      return mintedTokenId
    }

      //å€‹åˆ¥TX NFT48ã®ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã‚¦ã‚©ãƒ¬ãƒƒãƒˆã‚’ä½œæˆ (å¼•æ•°ï¼›tokenID)
      async function createERC6551Account(tokenId) {
        if (!window.ethereum) throw new Error('No Ethereum browser detected.');
        const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });
        const account = accounts[0];
        const web3 = new Web3(window.ethereum);

        const contract = new web3.eth.Contract(
                erc6551RegistryAbi,
                erc6551RegistryAddress
        );

        const result = await contract
                .methods
                .createAccount(
                  erc6551ImplementationAddress,
                  chainId, //chain ID; 81 = Shibuya; 80001 = MUMBAI
                  nft48Address,
                  tokenId, //tokenId; variable
                  1, //salt; can be anything
                  '0x' //initData; null
                )
                .send({ from: account });

        console.log(result);
    }

    //å€‹åˆ¥TX akushuNFTã®Mint
    async function mintAkushuNft(mintAmount) {
      if (!window.ethereum) throw new Error('No Ethereum browser detected.');
      const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });
      const account = accounts[0];
      const web3 = new Web3(window.ethereum);

      const contract = new web3.eth.Contract(
              akushuNftAbi,
              akushuNftAddress
      );

      const result = await contract
              .methods
              .mint(mintAmount)
              .send({ from: account });

      console.log(result);
      return(result);
    }

    //å€‹åˆ¥TX akushuNFTã®é€ä»˜
    async function sendAkushuNft(destinationAddress) {
      if (!window.ethereum) throw new Error('No Ethereum browser detected.');
      const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });
      const account = accounts[0];
      const web3 = new Web3(window.ethereum);

      const contract = new web3.eth.Contract(
              akushuNftAbi,
              akushuNftAddress
      );

      const result = await contract
              .methods
              .safeTransferFrom(
                account,
                destinationAddress,
                1,
                1,
                "0x"
              )
              .send({ from: account });

      console.log(result);
      return(result);
    }

    //å€‹åˆ¥ãƒ¡ã‚½ãƒƒãƒ‰ NFT48ã®ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã‚¦ã‚©ãƒ¬ãƒƒãƒˆã®ã‚¢ãƒ‰ãƒ¬ã‚¹å–å¾— (å¼•æ•°ï¼›tokenID)
    async function viewERC6551Address(tokenId) {
      if (!window.ethereum) throw new Error('No Ethereum browser detected.');
      const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });
      const account = accounts[0];
      const web3 = new Web3(window.ethereum);

      const contract = new web3.eth.Contract(
              erc6551RegistryAbi,
              erc6551RegistryAddress
      );

      const result = await contract
              .methods
              .account(
                erc6551ImplementationAddress,
                chainId,
                nft48Address,
                tokenId, //tokenId; variable
                1, //salt; can be anything
              )
              .call();

      console.log(result);
      return(result);
    }

    //å€‹åˆ¥TX NFT48ã®ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã‚¦ã‚©ãƒ¬ãƒƒãƒˆã¸ã®TX
      async function sendTxToERC6551(erc6551WalletAddress, to, value, data) {
      if (!window.ethereum) throw new Error('No Ethereum browser detected.');
      const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });
      const account = accounts[0];
      const web3 = new Web3(window.ethereum);

      const contract = new web3.eth.Contract(
              erc6551AccountAbi,
              erc6551WalletAddress
      );

      const result = await contract
              .methods
              .executeCall(
                to, //address to send the TX to
                value, //value of native token to send
                data //data in hex - can be 0x for simple TX
              )
              .send({ from: account });

      console.log(result);
    }

    document.addEventListener('DOMContentLoaded', (event) => {
      const fileInput = document.getElementById('image');
      const handleFileSelect = () => {
        const files = fileInput.files;
        for (let i = 0; i < files.length; i++) {
          console.log(files[i])
        }
      }
      if (fileInput) { // Check if fileInput is not null before attaching event
        fileInput.addEventListener('change', handleFileSelect);
      }
    });
  </script>
</head>
<body class="body">
  <div class="hero-section wf-section">
    <div id="hero" class="w-layout-grid grid">
      <div id="w-node-d65e42f6-71f4-cc5d-2329-fa02dfe2a7d3-35cdaebf"><img src="images/ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ-2023-06-15-11.47.01.png" loading="lazy" style="opacity:0" data-w-id="fdc94312-8df0-9742-d05d-03f165cde47f" srcset="images/ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ-2023-06-15-11.47.01-p-500.png 500w, images/ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ-2023-06-15-11.47.01.png 776w" sizes="(max-width: 479px) 80vw, 40vw" alt="" class="image-2"></div>
      <div id="w-node-f13b7fe7-fb47-9d24-0e50-4395bc66cb73-35cdaebf" data-w-id="f13b7fe7-fb47-9d24-0e50-4395bc66cb73" style="opacity:0">
        <div class="w-form">
          <form id="email-form" name="email-form" data-name="Email Form" method="get" class="form" data-wf-page-id="648a862dad56f52b35cdaebf" data-wf-element-id="4ffa4588-72c5-d33b-a910-0c4e49a8d706"><label for="name">Name</label><input type="email" class="text-field w-input" maxlength="256" name="name" data-name="Name" placeholder="" id="name" required=""><label for="email">Profile</label><input type="email" class="text-field w-input" maxlength="256" name="name-4" data-name="Name 4" placeholder="" id="name-4" required=""><label for="field">Talk prompt</label><textarea name="field" maxlength="5000" id="field" data-name="field" placeholder="" class="textarea w-input"></textarea><input type="submit" value="Try chat" data-wait="Please wait..." class="submit-button w-button"><textarea name="field-2" maxlength="5000" id="field-2" data-name="Field 2" placeholder="ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™(ã¯ã‚ã¨)" class="textarea w-input"></textarea></form>
          <div class="w-form-done">
            <div>Thank you! Your submission has been received!</div>
          </div>
          <div class="w-form-fail">
            <div>Oops! Something went wrong while submitting the form.</div>
          </div>
        </div>
      </div>
    </div>
<!--    <a data-w-id="e26b2e6c-06d4-a9d4-4f8b-cf5d6e13d291" href="http://calendly.com/axel-sani/stage" target="_blank" class="link-block-2-copy w-inline-block">-->
<!--      <div class="text-block-10">Mint / ç«‹å€™è£œã™ã‚‹</div>-->
<!--    </a>-->
    <button onclick="mint()">Mint / ç«‹å€™è£œã™ã‚‹</button>
    <button onclick="createERC6551Account(mintedTokenId)">ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆ</button>
    <button onclick="sendTxToERC6551()">6551ã¸ã®TXãƒ†ã‚¹ãƒˆ</button>
    <button onclick="viewERC6551Address(mintedTokenId)">6551ã‚¢ãƒ‰ãƒ¬ã‚¹ã®å–å¾—</button>
    <button onclick="mintAkushuNft(1)">æ¡æ‰‹NFTã®Mint</button>
    <button onclick="sendAkushuNft('0xEE860E9d8eCBFfEa3D27Eb76E5B923C2E9488ACf')">æ¡æ‰‹NFTã®é€ä»˜</button>

    <input type="file" id="image" accept="image/*"/>
  </div>
  <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=648a7b305726afd6e4730e60" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="js/webflow.js" type="text/javascript"></script>
</body>
</html>